<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î¤Î±Î¼ÎµÎ¯Î¿</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#0b0f14">
  <style>

:root{
  --bg:#0b0f14;
  --card:#151a22;
  --card2:#111622;
  --text:#eef2ff;
  --muted:#a9b1c3;
  --line:rgba(255,255,255,.10);
  --shadow: 0 14px 40px rgba(0,0,0,.45);
  --accent:#4cc3ff;
  --ok:#44d08a;
  --bad:#ff6363;
  --radius:18px;
  --pad:12px;
  --tap:44px;
  --footerH: 132px; /* ÏÏˆÎ¿Ï‚ bottom bar ÏƒÏ„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ */
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 800px at 50% -220px, rgba(76,195,255,.18), rgba(0,0,0,0)) , var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

/* ÎšÎµÎ½Ï„ÏÎ¹ÎºÏŒ Ï€Î»Î¬Ï„Î¿Ï‚ */
.wrap{
  width:min(980px, 100% - 20px);
  margin:0 auto;
}

/* ---------------- HEADER (compact) ---------------- */
header{
  padding: 10px 0 8px;
}
.top{
  display:flex;
  gap:10px;
  align-items:flex-start;
  justify-content:space-between;
  flex-wrap:wrap;
}
.brand{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width: 160px;
}
.brand b{
  font-size:18px;
  letter-spacing:.2px;
}
#todayPill{
  font-size:13px;
  color:var(--muted);
}
.statusBar{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.statusBar select{
  height: var(--tap);
  padding: 0 10px;
  border-radius: 14px;
  background: rgba(255,255,255,.04);
  border: 1px solid var(--line);
  color: var(--text);
  font-size:14px;
  outline:none;
}
.pill{
  display:flex;
  align-items:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.04);
  border:1px solid var(--line);
  color:var(--muted);
  height: var(--tap);
  white-space:nowrap;
}
.pill b{ color:var(--text); }

.row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }

.tabs{
  display:flex;
  gap:8px;
  background: rgba(255,255,255,.03);
  border:1px solid var(--line);
  border-radius: 18px;
  padding: 6px;
}
.tabs .btn{
  flex:1;
  min-width: 120px;
}

/* ---------------- BUTTONS ---------------- */
.btn{
  appearance:none;
  border:1px solid var(--line);
  background: rgba(255,255,255,.03);
  color: var(--text);
  height: var(--tap);
  padding: 0 14px;
  border-radius: 16px;
  font-weight:600;
  letter-spacing:.1px;
  box-shadow: 0 6px 18px rgba(0,0,0,.22);
  cursor:pointer;
  user-select:none;
}
.btn:active{ transform: translateY(1px); }
.btn.ghost{ background: rgba(255,255,255,.02); }
.btn.tab{ background: transparent; box-shadow:none; }
.btn.tab.active{
  background: rgba(76,195,255,.12);
  border-color: rgba(76,195,255,.45);
}
.btn.primary{ border-color: rgba(76,195,255,.45); }
.btn.ok{ border-color: rgba(68,208,138,.55); }
.btn.bad{ border-color: rgba(255,99,99,.55); background: rgba(255,99,99,.08); }

.divider{
  height:1px;
  background: var(--line);
  margin: 12px 0;
}

/* ---------------- MAIN CARDS ---------------- */
main{
  padding: 8px 0 calc(var(--footerH) + 24px + env(safe-area-inset-bottom, 0px));
}
.grid{
  display:grid;
  grid-template-columns: 1fr;
  gap: 12px;
}
@media (min-width: 860px){
  .grid{ grid-template-columns: 1fr 1fr; }
}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02));
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--pad);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.title{ font-size:16px; font-weight:800; }
.muted{ color:var(--muted); font-size:13px; }
.tiny{ font-size:12px; color:var(--muted); margin-top:8px; }

/* ---------------- TABLES GRID ---------------- */
#tablesGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
@media (min-width: 520px){
  #tablesGrid{ grid-template-columns: 1fr 1fr 1fr; }
}
@media (min-width: 860px){
  #tablesGrid{ grid-template-columns: 1fr 1fr 1fr 1fr; }
}

/* ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Ï€Î¿Ï… Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Ï„Î¿ JS Î³Î¹Î± Ï„ÏÎ±Ï€Î­Î¶Î¹Î± */
#tablesGrid .btn,
#tablesGrid button{
  height: 56px;
  border-radius: 18px;
  font-size:16px;
  font-weight:800;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:4px;
  padding: 10px;
}
#tablesGrid .btn .muted,
#tablesGrid button .muted{
  font-size:12px;
  font-weight:600;
  opacity:.9;
}

/* ---------------- PRODUCTS ---------------- */
#catsRow{
  display:flex;
  gap:8px;
  overflow:auto;
  padding-bottom:6px;
  -webkit-overflow-scrolling: touch;
}
#catsRow .btn{ white-space:nowrap; height: 42px; border-radius: 14px; font-size:13px; padding:0 12px; }

#productsList{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.productCard{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  padding: 12px;
  border-radius: 18px;
  background: rgba(255,255,255,.03);
  border: 1px solid var(--line);
}
.productCard b{ font-size:15px; }
.productCard .muted{ font-size:12px; }
.productCard .price{ font-weight:900; }

/* ---------------- TICKET LIST ---------------- */
#ticketList .line{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,.07);
}
#ticketList .line:last-child{ border-bottom:0; }

/* ---------------- FOOTER BAR (not huge, readable) ---------------- */
.footerBar{
  position:fixed;
  left:0; right:0; bottom:0;
  z-index: 50;
  background: rgba(11,15,20,.92);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255,255,255,.12);
  padding: 10px 0 calc(10px + env(safe-area-inset-bottom, 0px));
}
.footerGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.footerGrid .btn{
  height: 48px;
  border-radius: 16px;
  font-size:13px;
  padding: 0 10px;
  white-space: nowrap;
}
@media (min-width:760px){
  :root{ --footerH: 98px; }
  .footerGrid{ grid-template-columns: 1fr 1fr 1fr 1fr; }
}

/* toast */
.toast{
  position: fixed;
  left:50%;
  transform:translateX(-50%);
  bottom: calc(var(--footerH) + 14px + env(safe-area-inset-bottom, 0px));
  background: rgba(20,24,32,.95);
  border:1px solid rgba(255,255,255,.10);
  padding:10px 12px;
  border-radius:16px;
  display:none;
  z-index:80;
  max-width:92vw;
  text-align:center;
}

/* ---------------- MODALS ---------------- */
.modalWrap{
  position: fixed;
  inset: 0;
  display:none;
  align-items:center;
  justify-content:center;
  padding: 14px;
  background: rgba(0,0,0,.55);
  z-index: 90;
}
.modalWrap.show{ display:flex; }
.modal{
  width: min(720px, 100%);
  max-height: min(86vh, 860px);
  overflow:auto;
  background: linear-gradient(180deg, rgba(21,26,34,.98), rgba(15,18,26,.98));
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 22px;
  padding: 14px;
  box-shadow: 0 22px 70px rgba(0,0,0,.65);
}
.modal h2{ margin: 0 0 6px; font-size:18px; }
.modal .btn{ height: 42px; }

/* lists inside modal */
.lineList{ display:flex; flex-direction:column; gap:10px; margin-top:12px; }
.line{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
}
.line .muted{ font-size:12px; }
.qty{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 34px;
  height: 30px;
  padding: 0 10px;
  border-radius: 999px;
  background: rgba(76,195,255,.14);
  border: 1px solid rgba(76,195,255,.30);
  font-weight:900;
}

/* toggle */
.toggle{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.08);
}
.cb{ width:18px; height:18px; }

/* inputs */
input[type="text"], input[type="number"], input[type="search"]{
  height: 42px;
  width: 100%;
  padding: 0 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.10);
  color: var(--text);
  outline:none;
}

/* ---------------- MOBILE COMPACT OVERRIDES ---------------- */
@media (max-width: 420px){
  .wrap{ width: calc(100% - 16px); }
  .brand b{ font-size:16px; }
  #todayPill{ font-size:12px; }
  .pill{ height: 40px; padding: 8px 10px; border-radius: 14px; }
  .statusBar select{ height: 40px; border-radius: 14px; }
  .btn{ height: 40px; border-radius: 14px; font-size:14px; }
  #tablesGrid .btn, #tablesGrid button{ height: 54px; font-size:15px; }
  .tabs{ padding:5px; border-radius:16px; }
}

  </style>
</head>

<body>
<header>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <b>Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î¤Î±Î¼ÎµÎ¯Î¿</b>
        <div id="todayPill">Î£Î®Î¼ÎµÏÎ±: â€”</div>
      </div>

      <div class="statusBar">
        <select id="userSelect" title="Î§ÏÎ®ÏƒÏ„Î·Ï‚"></select>
        <div class="pill" id="activeInfo">Î¤ÏÎ±Ï€Î­Î¶Î¹: <b id="activeTable">â€”</b> Â· Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿: <b id="activeBal">0,00 â‚¬</b></div>
        <button class="btn ghost" id="btnSettings" title="Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚">âš™ï¸</button>
      </div>

      <div class="row" style="width:100%;">
        <div class="tabs" style="flex:1;">
          <button class="btn tab active" id="tabOrder">Î Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î±</button>
          <button class="btn tab" id="tabTickets">Tickets</button>
        </div>

        <button class="btn ghost" id="btnNewTicket">+ Ticket</button>
        <button class="btn ghost" id="btnCloseTicket" style="display:none;">ÎšÎ»ÎµÎ¯ÏƒÎµ Ticket</button>
      </div>
    </div>
  </div>
</header>

<!-- Settings -->
<div class="modalWrap" id="settingsWrap">
  <div class="modal">
    <div class="row" style="align-items:flex-start;">
      <div>
        <h2>Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚</h2>
        <div class="muted">Î—Î¼Î­ÏÎ±: <b id="dayKey">â€”</b> â€” Î§ÏÎ®ÏƒÏ„Î·Ï‚: <b id="userNameLabel">â€”</b></div>
      </div>
      <button class="btn" id="btnSettingsClose">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
    </div>

    <div class="divider"></div>

    <div class="row">
      <button class="btn primary" id="btnAddUser">+ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï‡ÏÎ®ÏƒÏ„Î·</button>
      <button class="btn" id="btnRenameUser">âœï¸ ÎœÎµÏ„Î¿Î½Î¿Î¼Î±ÏƒÎ¯Î±</button>
      <button class="btn bad" id="btnDeleteUser">ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®</button>
    </div>

    <div class="divider"></div>

    <div class="row">
      <button class="btn ok" id="btnResetDay">ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î·Î¼Î­ÏÎ±Ï‚</button>
      <button class="btn bad" id="btnWipeAll">Î”Î¹Î±Î³ÏÎ±Ï†Î® ÏŒÎ»Ï‰Î½</button>
    </div>

    <div class="tiny">Tip: Î‘Î½ Î­Ï‡ÎµÎ¹Ï‚ â€œÎºÎ¿Î»Î»Î®ÏƒÎµÎ¹â€ ÏƒÏ„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ, Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ Î±Î»Î»Î±Î³Î­Ï‚ ÎºÎ¬Î½Îµ refresh Î® ÎºÎ±Î¸Î¬ÏÎ¹ÏƒÎµ cache (Î²Î». Î¿Î´Î·Î³Î¯ÎµÏ‚ ÎºÎ¬Ï„Ï‰).</div>
  </div>
</div>

<!-- Pay modal -->
<div class="modalWrap" id="payWrap">
  <div class="modal">
    <div class="row" style="align-items:flex-start;">
      <div>
        <h2>Î Î»Î·ÏÏ‰Î¼Î® / Î”Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚</h2>
        <div class="muted">Î”Î¹Î¬Î»ÎµÎ¾Îµ Î³ÏÎ±Î¼Î¼Î­Ï‚ ÎºÎ±Î¹ Î´Î®Î»Ï‰ÏƒÎµ Ï„ÏÏŒÏ€Î¿ Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚.</div>
      </div>
      <button class="btn" id="btnPayClose">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
    </div>

    <div class="divider"></div>

    <div class="row">
      <button class="btn" id="payCash">ÎœÎµÏ„ÏÎ·Ï„Î¬</button>
      <button class="btn" id="payCard">ÎšÎ¬ÏÏ„Î±</button>
      <button class="btn" id="payGift">ÎšÎµÏÎ±ÏƒÎ¼Î­Î½Î±</button>
    </div>

    <div class="lineList" id="payLines"></div>
  </div>
</div>

<main>
  <div class="wrap">
    <div class="grid">

      <!-- Tables picker -->
      <section class="card">
        <div class="row">
          <div>
            <div class="title">Î“ÏÎ®Î³Î¿ÏÎ· ÎµÏ€Î¹Î»Î¿Î³Î® Ï„ÏÎ±Ï€ÎµÎ¶Î¹Î¿Ï</div>
            <div class="muted">Î Î¬Ï„Î± Ï„ÏÎ±Ï€Î­Î¶Î¹ â†’ ÎºÎ±Î¹ Î¼ÎµÏ„Î¬ Î³ÏÎ¬Ï†ÎµÎ¹Ï‚ Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î±.</div>
          </div>
          <div class="pill" style="min-height:auto;">Tip: ÎŒÏƒÎ± Î­Ï‡Î¿Ï…Î½ Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Ï†Î±Î¯Î½Î¿Î½Ï„Î±Î¹ Î¼Îµ Ï‡ÏÏÎ¼Î±.</div>
        </div>
        <div class="divider"></div>
        <div id="tablesGrid"></div>
      </section>

      <!-- Products -->
      <section class="card products">
        <div class="row">
          <div style="flex:1;">
            <div class="title">Î ÏÎ¿ÏŠÏŒÎ½Ï„Î±</div>
            <div class="muted">ÎŒ,Ï„Î¹ Ï€Î±Ï„Î¬Ï‚ Î¼Ï€Î±Î¯Î½ÎµÎ¹ ÏƒÏ„Î¿ ÎµÎ½ÎµÏÎ³ÏŒ Ï„ÏÎ±Ï€Î­Î¶Î¹.</div>
          </div>
          <input id="search" type="search" placeholder="Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·â€¦">
        </div>

        <div class="divider"></div>

        <div id="catsRow" class="cats"></div>

        <div class="divider"></div>

        <div id="productsList"></div>
      </section>

      <!-- Active ticket -->
      <section class="card" id="orderCard">
        <div class="row">
          <div style="flex:1;">
            <div class="title">Î Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î± (Î±Î½Î¿Î¹Ï‡Ï„Î®)</div>
            <div class="muted">Î“ÏÎ±Î¼Î¼Î­Ï‚: <b id="openCount">0</b> Â· Î‘Î½Î¿Î¹Ï‡Ï„ÏŒ Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿: <b id="openTotal">0,00 â‚¬</b></div>
          </div>
          <button class="btn primary" id="btnPaySplit">Î Î»Î·ÏÏ‰Î¼Î® / Split</button>
        </div>

        <div class="divider"></div>

        <div id="ticketList" class="lineList"></div>
      </section>

      <!-- Tickets view -->
      <section class="card" id="ticketsCard" style="display:none;">
        <div class="row">
          <div style="flex:1;">
            <div class="title">Tickets</div>
            <div class="muted">ÎŒÎ»Î± Ï„Î± Ï„ÏÎ±Ï€Î­Î¶Î¹Î±/Î±Î½Î¿Î¹Ï‡Ï„Î¬ tickets Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î·.</div>
          </div>
        </div>
        <div class="divider"></div>
        <div id="ticketsList" class="lineList"></div>
      </section>

    </div>
  </div>
</main>

<!-- Footer actions -->
<div class="footerBar">
  <div class="wrap">
    <div class="footerGrid">
      <button class="btn ok" id="btnUndoPay">Î‘Î½Î±Î¯ÏÎµÏƒÎ· Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î±Ï‚ Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚</button>
      <button class="btn primary" id="btnRedoPay">Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Ï€Î»Î·ÏÏ‰Î¼Î® Î¾Î±Î½Î¬</button>
      <button class="btn" id="btnCSV">Î•Î¾Î±Î³Ï‰Î³Î® CSV</button>
      <button class="btn bad" id="btnWipeDay">Î”Î¹Î±Î³ÏÎ±Ï†Î® Î·Î¼Î­ÏÎ±Ï‚</button>
    </div>
    <div class="tiny">Chrome: â†’ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏ„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® Î¿Î¸ÏŒÎ½Î· (Î±Î½Î¿Î¯Î³ÎµÎ¹ ÏƒÎ±Î½ app).</div>
  </div>
</div>

<div class="toast" id="toast">â€”</div>

<script>
(() => {
  const LS_KEY = "mini-cashier-db-v5";
  const LS_USERS = "mini-cashier-users-v3";
  const LS_USER = "mini-cashier-current-user-v3";
  const TODAY = new Date().toISOString().slice(0,10);

  const fmtEUR = (n) => (n||0).toFixed(2).replace(".", ",") + " â‚¬";

  const menu = [
    {cat:"â˜• ÎšÎ‘Î¦Î•Î”Î•Î£ â€“ Î–Î•Î£Î¤ÎŸÎ™", items:[
      ["Espresso Î¼Î¿Î½ÏŒÏ‚",2.60],["Espresso Î´Î¹Ï€Î»ÏŒÏ‚",3.20],["Espresso macchiato",2.90],["Americano",3.20],
      ["Cappuccino",3.60],["Cappuccino Î´Î¹Ï€Î»ÏŒÏ‚",4.20],["Latte macchiato",4.20],["Flat white",4.40],
      ["Mocha",4.50],["ÎšÎ±Ï†Î­Ï‚ Ï†Î¯Î»Ï„ÏÎ¿Ï…",3.00],["Decaf (+)",0.30]
    ]},
    {cat:"â„ï¸ ÎšÎ‘Î¦Î•Î”Î•Î£ â€“ ÎšÎ¡Î¥ÎŸÎ™", items:[
      ["Freddo espresso",3.80],["Freddo cappuccino",4.20],["Iced latte",4.50],["Cold brew",4.80],["Frappe",3.50]
    ]},
    {cat:"ğŸ«– Î¤Î£Î‘Îª â€“ Î–Î•Î£Î¤Î‘ Î¡ÎŸÎ¦Î—ÎœÎ‘Î¤Î‘", items:[
      ["Î¤ÏƒÎ¬Î¹ (Î¼Î±ÏÏÎ¿, Ï€ÏÎ¬ÏƒÎ¹Î½Î¿, Î²ÏŒÏ„Î±Î½Î±)",3.20],["Î¤ÏƒÎ¬Î¹ Ï†ÏÎ¿ÏÏ„Ï‰Î½",3.50],["Chai latte",4.30]
    ]},
    {cat:"ğŸ« Î£ÎŸÎšÎŸÎ›Î‘Î¤Î•Î£ â€“ Î“Î‘Î›Î‘ÎšÎ¤Î•Î¡Î‘", items:[
      ["Î–ÎµÏƒÏ„Î® ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±",4.20],["ÎšÏÏÎ± ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±",4.50],["Î›ÎµÏ…ÎºÎ® ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±",4.50],["ÎšÎ±ÎºÎ¬Î¿",4.00],["Î¦Ï…Ï„Î¹ÎºÏŒ Î³Î¬Î»Î± (+)",0.50]
    ]},
    {cat:"ğŸ¥¤ Î‘ÎÎ‘Î¨Î¥ÎšÎ¤Î™ÎšÎ‘ â€“ ÎÎ•Î¡Î‘", items:[
      ["Coca-Cola / Zero / Fanta (0,33l)",3.40],["Ice Tea",3.60],["Î£ÏŒÎ´Î± / Î¤ÏŒÎ½Î¹Îº",3.20],
      ["ÎœÎµÏ„Î±Î»Î»Î¹ÎºÏŒ Î½ÎµÏÏŒ (0,33l)",2.80],["ÎœÎµÏ„Î±Î»Î»Î¹ÎºÏŒ Î½ÎµÏÏŒ (0,75l)",5.50]
    ]},
    {cat:"ğŸŠ Î§Î¥ÎœÎŸÎ™ â€“ SMOOTHIES", items:[
      ["Î¦Ï…ÏƒÎ¹ÎºÏŒÏ‚ Ï‡Ï…Î¼ÏŒÏ‚ Ï€Î¿ÏÏ„Î¿ÎºÎ¬Î»Î¹",4.50],["Î§Ï…Î¼ÏŒÏ‚ Î±Î½Î¬Î¼ÎµÎ¹ÎºÏ„Î¿Ï‚",4.80],["Smoothie Ï†ÏÎ¿ÏÏ„Ï‰Î½",5.80],["Milkshake",5.50]
    ]},
    {cat:"ğŸ¥ Î£ÎÎ‘Îš â€“ Î“Î›Î¥ÎšÎ‘", items:[
      ["ÎšÏÎ¿Ï…Î±ÏƒÎ¬Î½ ÏƒÎºÎ­Ï„Î¿",2.80],["ÎšÏÎ¿Ï…Î±ÏƒÎ¬Î½ ÏƒÎ¿ÎºÎ¿Î»Î¬Ï„Î±",3.20],["ÎœÎ¬Ï†Î¹Î½",3.50],["ÎšÎ­Î¹Îº (ÎºÎ¿Î¼Î¼Î¬Ï„Î¹)",4.20],
      ["Cheesecake",4.80],["ÎœÏ€Î¹ÏƒÎºÏŒÏ„Î±",2.50],["Î¤Î¿ÏƒÏ„ Î¶Î±Î¼Ï€ÏŒÎ½-Ï„Ï…ÏÎ¯",4.50],["Î¤Î¿ÏƒÏ„ vegetarian",4.80]
    ]},
    {cat:"ğŸº ÎœÎ Î¥Î¡Î•Î£", items:[
      ["ÎœÏ€ÏÏÎ± Î²Î±ÏÎµÎ»Î¯ÏƒÎ¹Î± (0,5l)",5.20],["ÎœÏ€ÏÏÎ± ÎµÎ¼Ï†Î¹Î±Î»Ï‰Î¼Î­Î½Î· (0,33l)",4.20],["Weissbier (0,5l)",5.50],["ÎœÏ€ÏÏÎ± Ï‡Ï‰ÏÎ¯Ï‚ Î±Î»ÎºÎ¿ÏŒÎ»",4.20]
    ]},
    {cat:"ğŸ· ÎšÎ¡Î‘Î£Î™Î‘", items:[
      ["ÎšÏÎ±ÏƒÎ¯ Ï€Î¿Ï„Î®ÏÎ¹",5.50],["ÎšÏÎ±ÏƒÎ¯ ÎºÎ±ÏÎ¬Ï†Î± (0,5l)",12.00],["Î¦Î¹Î¬Î»Î· ÎºÏÎ±ÏƒÎ¯ (Î¼Î­ÏƒÎ¿Ï‚ ÏŒÏÎ¿Ï‚)",25.00],["Prosecco Ï€Î¿Ï„Î®ÏÎ¹",6.50]
    ]},
    {cat:"ğŸ¥ƒ Î ÎŸÎ¤Î‘ (4cl)", items:[
      ["ÎŸÏ…Î¯ÏƒÎºÎ¹ standard",8.50],["Premium Î¿Ï…Î¯ÏƒÎºÎ¹",10.50],["Î’ÏŒÏ„ÎºÎ±",8.00],["Î¡Î¿ÏÎ¼Î¹",8.50],["Î¤Î¶Î¹Î½",8.50],
      ["ÎŸÏÎ¶Î¿ / Î¤ÏƒÎ¯Ï€Î¿Ï…ÏÎ¿",7.50],["Î›Î¹ÎºÎ­Ï",7.50]
    ]},
    {cat:"ğŸ¸ ÎšÎŸÎšÎ¤Î•ÎªÎ›", items:[
      ["Mojito",9.50],["Caipirinha",9.50],["Margarita",10.00],["Aperol Spritz",8.50],["Gin Tonic",9.00],["Negroni",10.50]
    ]}
  ];

  const DEFAULT_TABLES = ["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12","T13","T14","T15","T16","T17","BAR","Î•ÎÎ©"];

  const $ = (id) => document.getElementById(id);
  const toastEl = $("toast");
  let toastTimer = null;
  const toast = (msg) => {
    toastEl.textContent = msg;
    toastEl.style.display = "block";
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=> toastEl.style.display="none", 1800);
  };

  const load = (k, fallback) => {
    try { return JSON.parse(localStorage.getItem(k) || "null") ?? fallback; } catch { return fallback; }
  };
  const save = (k,v) => localStorage.setItem(k, JSON.stringify(v));

  function ensureDB(){
    const db = load(LS_KEY, { days:{} });
    if(!db.days) db.days = {};
    if(!db.days[TODAY]) db.days[TODAY] = { tables:{}, tickets:{} , payments:[] };
    if(!db.days[TODAY].tables) db.days[TODAY].tables = {};
    if(!db.days[TODAY].tickets) db.days[TODAY].tickets = {};
    if(!db.days[TODAY].payments) db.days[TODAY].payments = [];
    DEFAULT_TABLES.forEach(t => {
      if(!db.days[TODAY].tables[t]) db.days[TODAY].tables[t] = { open:[] };
    });
    save(LS_KEY, db);
    return db;
  }

  function ensureUsers(){
    let users = load(LS_USERS, null);
    if(!users || !Array.isArray(users) || users.length===0){
      users = ["Î§ÏÎ®ÏƒÏ„Î·Ï‚ 1"];
      save(LS_USERS, users);
      save(LS_USER, users[0]);
    }
    return users;
  }

  function getCurrentUser(){
    const users = ensureUsers();
    let u = localStorage.getItem(LS_USER) || users[0];
    if(!users.includes(u)){ u = users[0]; save(LS_USER,u); }
    return u;
  }

  function dayData(db){ return db.days[TODAY]; }

  function getUserDay(db, uname){
    const d = dayData(db);
    if(!d.tickets[uname]) d.tickets[uname] = {}; // per user tickets map
    if(!d.tickets[uname].activeTable) d.tickets[uname].activeTable = "T1";
    return d.tickets[uname];
  }

  function getOpenLines(db, uname, table){
    const d = dayData(db);
    if(!d.tables[table]) d.tables[table] = { open:[] };
    if(!d.tables[table].open) d.tables[table].open = [];
    // each line: {id, name, cat, price, ts, paid:null|{method,ts}}
    return d.tables[table].open;
  }

  function calcOpenTotal(lines){
    return lines.filter(x=>!x.paid).reduce((s,x)=>s+x.price,0);
  }

  function setActive(table){
    const db = ensureDB();
    const uname = getCurrentUser();
    const uday = getUserDay(db, uname);
    uday.activeTable = table;
    save(LS_KEY, db);
    renderAll();
  }

  function buildUsers(){
    const users = ensureUsers();
    const sel = $("userSelect");
    sel.innerHTML = "";
    users.forEach(u=>{
      const opt=document.createElement("option");
      opt.value=u; opt.textContent=u;
      sel.appendChild(opt);
    });
    sel.value = getCurrentUser();
    sel.onchange = () => { save(LS_USER, sel.value); renderAll(); };
  }

  function buildTables(){
    const db = ensureDB();
    const uname = getCurrentUser();
    const uday = getUserDay(db, uname);
    const active = uday.activeTable;

    const wrap = $("tablesGrid");
    wrap.innerHTML = "";
    DEFAULT_TABLES.forEach(t=>{
      const lines = getOpenLines(db, uname, t);
      const open = calcOpenTotal(lines);
      const btn = document.createElement("button");
      btn.className = "btn " + (t===active ? "primary" : "ghost");
      btn.innerHTML = `<div>${t}</div><div class="muted">${open>0?fmtEUR(open):"â€”"}</div>`;
      if(open>0) btn.style.borderColor = "rgba(68,208,138,.55)";
      btn.onclick = ()=> setActive(t);
      wrap.appendChild(btn);
    });
  }

  let activeCat = menu[0].cat;

  function buildCats(){
    const row = $("catsRow");
    row.innerHTML = "";
    menu.forEach(c=>{
      const b=document.createElement("button");
      b.className = "btn tab " + (c.cat===activeCat?"active":"");
      b.textContent = c.cat;
      b.onclick = ()=>{ activeCat=c.cat; buildCats(); buildProducts(); };
      row.appendChild(b);
    });
  }

  function buildProducts(){
    const list = $("productsList");
    const q = ($("search").value||"").trim().toLowerCase();
    list.innerHTML = "";
    const cat = menu.find(x=>x.cat===activeCat);
    if(!cat) return;
    cat.items
      .filter(([name,price]) => !q || name.toLowerCase().includes(q))
      .forEach(([name,price])=>{
        const el=document.createElement("div");
        el.className="productCard";
        el.innerHTML = `<div><b>${name}</b><div class="muted">${activeCat}</div></div><div class="price">${fmtEUR(price)}</div>`;
        el.onclick = ()=> addLine(name, activeCat, price);
        list.appendChild(el);
      });
  }

  function uid(){
    return Math.random().toString(16).slice(2)+Date.now().toString(16);
  }

  function addLine(name, cat, price){
    const db=ensureDB();
    const uname=getCurrentUser();
    const uday=getUserDay(db, uname);
    const t=uday.activeTable;
    const lines=getOpenLines(db, uname, t);
    lines.push({id:uid(), name, cat, price, ts:Date.now(), paid:null});
    save(LS_KEY, db);
    renderAll();
  }

  // ---------------- Tabs
  let view = "order";
  $("tabOrder").onclick=()=>{
    view="order";
    $("tabOrder").classList.add("active");
    $("tabTickets").classList.remove("active");
    $("orderCard").style.display="";
    $("ticketsCard").style.display="none";
  };
  $("tabTickets").onclick=()=>{
    view="tickets";
    $("tabTickets").classList.add("active");
    $("tabOrder").classList.remove("active");
    $("orderCard").style.display="none";
    $("ticketsCard").style.display="";
    renderTickets();
  };

  // ---------------- Settings modal
  const showSettings = (on)=> $("settingsWrap").classList.toggle("show", !!on);
  $("btnSettings").onclick = ()=> { renderHeaderMeta(); showSettings(true); };
  $("btnSettingsClose").onclick = ()=> showSettings(false);
  $("settingsWrap").onclick = (e)=> { if(e.target.id==="settingsWrap") showSettings(false); };

  function renderHeaderMeta(){
    const db=ensureDB();
    const uname=getCurrentUser();
    $("dayKey").textContent = TODAY;
    $("userNameLabel").textContent = uname;
  }

  $("btnAddUser").onclick = ()=>{
    const name = prompt("ÎÎ­Î¿Ï‚ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ (ÏŒÎ½Î¿Î¼Î±):");
    if(!name) return;
    const users = ensureUsers();
    if(users.includes(name)){ toast("Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î·"); return; }
    users.push(name);
    save(LS_USERS, users);
    save(LS_USER, name);
    buildUsers();
    renderAll();
    toast("Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ");
  };

  $("btnRenameUser").onclick = ()=>{
    const users = ensureUsers();
    const cur = getCurrentUser();
    const name = prompt("ÎÎ­Î¿ ÏŒÎ½Î¿Î¼Î± Î³Î¹Î±: "+cur, cur);
    if(!name) return;
    if(users.includes(name) && name!==cur){ toast("Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î·"); return; }
    const idx=users.indexOf(cur);
    users[idx]=name;
    save(LS_USERS, users);
    save(LS_USER, name);

    // migrate tickets key
    const db=ensureDB();
    const d=dayData(db);
    if(d.tickets[cur]){ d.tickets[name]=d.tickets[cur]; delete d.tickets[cur]; }
    save(LS_KEY, db);

    buildUsers(); renderAll();
    toast("ÎœÎµÏ„Î¿Î½Î¿Î¼Î¬ÏƒÏ„Î·ÎºÎµ");
  };

  $("btnDeleteUser").onclick = ()=>{
    const users = ensureUsers();
    const cur = getCurrentUser();
    if(!confirm("Î”Î¹Î±Î³ÏÎ±Ï†Î® Ï‡ÏÎ®ÏƒÏ„Î·: "+cur+" ;")) return;
    const left = users.filter(u=>u!==cur);
    if(left.length===0){ toast("Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¼ÎµÎ¯Î½ÎµÎ¹ 1 Ï‡ÏÎ®ÏƒÏ„Î·Ï‚"); return; }
    save(LS_USERS, left);
    save(LS_USER, left[0]);
    buildUsers(); renderAll();
    toast("Î”Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ");
  };

  $("btnResetDay").onclick = ()=>{
    const db=ensureDB();
    if(!confirm("Î˜ÎµÏ‚ ÏƒÎ¯Î³Î¿Ï…ÏÎ± ÎºÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒ Î·Î¼Î­ÏÎ±Ï‚;")) return;
    db.days[TODAY] = { tables:{}, tickets:{}, payments:[] };
    save(LS_KEY, db);
    renderAll();
    toast("ÎšÎ±Î¸Î±ÏÎ¯ÏƒÏ„Î·ÎºÎµ");
  };

  $("btnWipeAll").onclick = ()=>{
    if(!confirm("Î Î¡ÎŸÎ£ÎŸÎ§Î—: Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎŸÎ›Î©Î;")) return;
    localStorage.removeItem(LS_KEY);
    localStorage.removeItem(LS_USERS);
    localStorage.removeItem(LS_USER);
    location.reload();
  };

  // ---------------- Pay / split modal
  const showPay = (on)=> $("payWrap").classList.toggle("show", !!on);
  $("btnPayClose").onclick = ()=> showPay(false);
  $("payWrap").onclick = (e)=> { if(e.target.id==="payWrap") showPay(false); };

  let selectedLineIds = new Set();
  let lastPayment = null;

  function openPay(){
    selectedLineIds = new Set();
    renderPayLines();
    showPay(true);
  }

  $("btnPaySplit").onclick = openPay;

  function renderPayLines(){
    const db=ensureDB();
    const uname=getCurrentUser();
    const uday=getUserDay(db, uname);
    const t=uday.activeTable;
    const lines=getOpenLines(db, uname, t);

    const wrap=$("payLines");
    wrap.innerHTML="";
    const unpaid = lines.filter(x=>!x.paid);
    if(unpaid.length===0){
      wrap.innerHTML = `<div class="muted">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î¿Î¹Ï‡Ï„Î­Ï‚ Î³ÏÎ±Î¼Î¼Î­Ï‚.</div>`;
      return;
    }
    unpaid.forEach(x=>{
      const row=document.createElement("div");
      row.className="line";
      const checked = selectedLineIds.has(x.id);
      row.innerHTML = `<div style="display:flex; gap:10px; align-items:center;">
        <input class="cb" type="checkbox" ${checked?"checked":""}>
        <div><b>${x.name}</b><div class="muted">${x.cat}</div></div>
      </div>
      <div><b>${fmtEUR(x.price)}</b></div>`;
      row.querySelector("input").onchange = (e)=>{
        if(e.target.checked) selectedLineIds.add(x.id);
        else selectedLineIds.delete(x.id);
      };
      row.onclick = (e)=>{
        if(e.target.tagName==="INPUT") return;
        const cb=row.querySelector("input");
        cb.checked = !cb.checked;
        cb.dispatchEvent(new Event("change"));
      };
      wrap.appendChild(row);
    });
  }

  function applyPayment(method){
    const db=ensureDB();
    const uname=getCurrentUser();
    const uday=getUserDay(db, uname);
    const t=uday.activeTable;
    const lines=getOpenLines(db, uname, t);
    const ids = Array.from(selectedLineIds);
    if(ids.length===0){ toast("Î”Î¹Î¬Î»ÎµÎ¾Îµ Î³ÏÎ±Î¼Î¼Î­Ï‚"); return; }

    const now=Date.now();
    const paidLines=[];
    ids.forEach(id=>{
      const it = lines.find(x=>x.id===id);
      if(it && !it.paid){
        it.paid = {method, ts: now};
        paidLines.push(it);
      }
    });

    const sum = paidLines.reduce((s,x)=>s+x.price,0);
    const payRec = { id: uid(), user: uname, table: t, method, ts: now, lineIds: ids, amount: sum };
    dayData(db).payments.push(payRec);
    lastPayment = payRec;
    save(LS_KEY, db);
    showPay(false);
    renderAll();
    toast("Î Î»Î·ÏÏÎ¸Î·ÎºÎµ: "+fmtEUR(sum));
  }

  $("payCash").onclick = ()=> applyPayment("cash");
  $("payCard").onclick = ()=> applyPayment("card");
  $("payGift").onclick = ()=> applyPayment("gift");

  // Undo / redo payment
  $("btnUndoPay").onclick = ()=>{
    const db=ensureDB();
    const pays = dayData(db).payments;
    if(pays.length===0){ toast("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï€Î»Î·ÏÏ‰Î¼Î®"); return; }
    const last = pays.pop();
    lastPayment = last;

    // revert lines paid flag
    Object.values(dayData(db).tables).forEach(tbl=>{
      (tbl.open||[]).forEach(line=>{
        if(line.paid && last.lineIds.includes(line.id)){
          line.paid = null;
        }
      });
    });

    save(LS_KEY, db);
    renderAll();
    toast("Î‘Î½Î±Î¹ÏÎ­Î¸Î·ÎºÎµ");
  };

  $("btnRedoPay").onclick = ()=>{
    if(!lastPayment){ toast("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹"); return; }
    const db=ensureDB();
    const rec = {...lastPayment, id: uid(), ts: Date.now()};
    const ids = rec.lineIds;

    Object.values(dayData(db).tables).forEach(tbl=>{
      (tbl.open||[]).forEach(line=>{
        if(!line.paid && ids.includes(line.id)){
          line.paid = {method: rec.method, ts: rec.ts};
        }
      });
    });

    dayData(db).payments.push(rec);
    save(LS_KEY, db);
    renderAll();
    toast("ÎˆÎ³Î¹Î½Îµ Î¾Î±Î½Î¬");
  };

  // CSV export
  $("btnCSV").onclick = ()=>{
    const db=ensureDB();
    const d=dayData(db);
    const rows = [["date","user","table","item","category","price","paid_method","paid_ts"]];
    for(const [table, obj] of Object.entries(d.tables)){
      for(const line of (obj.open||[])){
        rows.push([
          TODAY,
          getCurrentUser(),
          table,
          line.name,
          line.cat,
          line.price,
          line.paid?line.paid.method:"",
          line.paid?new Date(line.paid.ts).toISOString():""
        ]);
      }
    }
    const csv = rows.map(r=>r.map(x=>String(x).replaceAll('"','""')).map(x=>`"${x}"`).join(",")).join("\n");
    const blob = new Blob([csv], {type:"text/csv;charset=utf-8"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download=`cashier_${TODAY}.csv`;
    a.click();
    URL.revokeObjectURL(a.href);
  };

  $("btnWipeDay").onclick = ()=>{
    const db=ensureDB();
    if(!confirm("Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎœÎŸÎÎŸ Ï„Î·Ï‚ ÏƒÎ·Î¼ÎµÏÎ¹Î½Î®Ï‚ Î·Î¼Î­ÏÎ±Ï‚;")) return;
    delete db.days[TODAY];
    save(LS_KEY, db);
    renderAll();
    toast("Î”Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ");
  };

  // render active ticket list
  function renderTicket(){
    const db=ensureDB();
    const uname=getCurrentUser();
    const uday=getUserDay(db, uname);
    const t=uday.activeTable;
    $("activeTable").textContent = t;

    const lines=getOpenLines(db, uname, t);
    const unpaid = lines.filter(x=>!x.paid);
    const total = calcOpenTotal(lines);

    $("openCount").textContent = unpaid.length;
    $("openTotal").textContent = fmtEUR(total);
    $("activeBal").textContent = fmtEUR(total);

    const list=$("ticketList");
    list.innerHTML="";

    if(lines.length===0){
      list.innerHTML = `<div class="muted">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï„Î¯Ï€Î¿Ï„Î± Î±ÎºÏŒÎ¼Î±.</div>`;
      return;
    }

    lines.slice().reverse().forEach(line=>{
      const row=document.createElement("div");
      row.className="line";
      const status = line.paid ? (line.paid.method==="cash"?"ÎœÎµÏ„ÏÎ·Ï„Î¬":line.paid.method==="card"?"ÎšÎ¬ÏÏ„Î±":"ÎšÎµÏÎ±ÏƒÎ¼Î­Î½Î±") : "Î‘Î½Î¿Î¹Ï‡Ï„ÏŒ";
      row.innerHTML = `<div>
        <b>${line.name}</b>
        <div class="muted">${line.cat} Â· ${status}</div>
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <b>${fmtEUR(line.price)}</b>
        ${line.paid ? "" : `<button class="btn ghost" style="height:36px;border-radius:12px;" data-pay="${line.id}">Pay</button>`}
      </div>`;
      const payBtn=row.querySelector("[data-pay]");
      if(payBtn){
        payBtn.onclick=(e)=>{
          e.stopPropagation();
          selectedLineIds=new Set([line.id]);
          renderPayLines();
          showPay(true);
        };
      }
      list.appendChild(row);
    });
  }

  function renderTickets(){
    const db=ensureDB();
    const uname=getCurrentUser();
    const d=dayData(db);
    const wrap=$("ticketsList");
    wrap.innerHTML="";
    for(const t of DEFAULT_TABLES){
      const lines=(d.tables[t]?.open||[]);
      const open = calcOpenTotal(lines);
      if(open<=0) continue;
      const card=document.createElement("div");
      card.className="line";
      card.innerHTML = `<div><b>${t}</b><div class="muted">${lines.filter(x=>!x.paid).length} Î±Î½Î¿Î¹Ï‡Ï„Î¬</div></div><div><b>${fmtEUR(open)}</b></div>`;
      card.onclick=()=>{ setActive(t); $("tabOrder").click(); };
      wrap.appendChild(card);
    }
    if(!wrap.children.length){
      wrap.innerHTML = `<div class="muted">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î¿Î¹Ï‡Ï„Î¬ tickets.</div>`;
    }
  }

  function renderAll(){
    $("todayPill").textContent = "Î£Î®Î¼ÎµÏÎ±: " + TODAY;
    buildUsers();
    buildTables();
    buildCats();
    buildProducts();
    renderTicket();
    if(view==="tickets") renderTickets();
  }

  $("search").addEventListener("input", buildProducts);

  // New ticket / Close ticket (UI only)
  $("btnNewTicket").onclick = ()=> toast("Î¤Î¿ ticket ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Ï„ÏÎ±Ï€Î­Î¶Î¹. Î”Î¹Î¬Î»ÎµÎ¾Îµ Ï„ÏÎ±Ï€Î­Î¶Î¹ â†’ Î²Î¬Î»Îµ Ï€ÏÎ¿ÏŠÏŒÎ½Ï„Î±.");
  $("btnCloseTicket").onclick = ()=> toast("ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î³Î¯Î½ÎµÏ„Î±Î¹ Î¼Î­ÏƒÏ‰ Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚ Ï„Ï‰Î½ Î³ÏÎ±Î¼Î¼ÏÎ½.");

  // PWA
  if("serviceWorker" in navigator){
    navigator.serviceWorker.register("./sw.js").catch(()=>{});
  }

  // init
  renderAll();
})();
</script>

</body>
</html>
